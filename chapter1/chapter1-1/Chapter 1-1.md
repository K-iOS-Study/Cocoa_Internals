Objectibe-C 기반으로 만든 맥용 Framework : Cocoa Framework
이후에 iOS용으로 나온 Framework는 터치 이벤트가 추가되었다고 하여 Cocoa Touch Framework라고 한다.

Objective-C를 포함한, 모든 OOP에서는 프로그램을 구성하는 단위를 Object 단위로 구분한다.
그렇다면 '객체'라는 단어는 "어떤 의미인지", "왜 주체는 없고 객체만 있는지" 에 대한 궁금증에서 시작하자.

1장에서는 Class와 인스턴스의 개념을 설명하고, 객체의 정체성, 등가성, 예외성을 확인한다.
그리고 객체 사이의 관계를 살펴보고, 마지막으로 Objective-C 런타임 구조에 대해 설명한다.

 

# 클래스와 객체 인스턴스
OOP는 절차 중심 프로그래밍과 대비되며, 객체 안에 속성 메서드 형태로 변수와 함수를 구현하고 프로그램을 구성하는 객체들끼리 메세지를 주고 받아 협력하는 형태로 동작한다.

첫번째 OOP 언어인 '시뮬라' 이후로, 대부분의 OOP에서는 객체, 클래스 개념을 사용한다.

문제 해결을 위해 추상화한 코드 = 클래스

실제로 프로그램을 실행하는 시점에, 메모리에 구체화된 실체 = 인스턴스
 

## 객체에 대한 철학
객체라는 단어는 주체(나)를 중심으로 하는 1인칭 시점/서양 철학에서 비롯됐다.

객체를 다루는 방식 : "자연에 실존하는 객체를 그에 대응되는 형체가 없는 개념과 언어로 추상화시켜 생각하는 방식"

 

## 객체 중심 프로그래밍(OOP)
랑그(langue) : 같은 언어를 사용하는 사람들끼리 생각하는 방식에 대한 원칙(단어의 의미, 문법)
파롤(parole) : 실제 대화나 상황에 따라서 표현이나 발음이 달라지는 것

랑그의 예 : 스택(Stack) - 위로 쌓고, 위에서부터 차례대로 꺼내는 원칙/방식
파롤의 예 : 이런 '스택' 개념을 각각 다른 언어로 구현

이전에 '프로그램 코드가 동작하는 순서'를 중요하게 생각했던 절차 중심 프로그래밍 패러다임과
'실생활에서 사고하는 방식과 비슷한 객체 개념을 차용하여, 객체의 역할과 책임 그리고 관계를 생각하는' 객체 중심 프로그래밍 패러다임을 생각하는 방식에서부터 차이가 있다.

프로그래밍 언어로 코드를 작성하는 방법과 객체 중심 패러다임을 알더라도, 클래스 단위로 코드를 표현하기에는 여러 어려움이 있다.
-> 이러한 어려움을 해결하고자 하는 원칙이 바로 "SOLID"

### SOLID

변경에 유연
이해하기 쉬움
SOLID에 대한 지식이 있어야 -> 어렵고 사람마다 알고있는 개념이 약간씩 다르다
명확/깔끔한 책임 구조, 높은 응집력, 낮은 의존성, 유지보수성 등의 장점
 
SRP : https://wlgusdn700.tistory.com/95?category=930441
하나의 모듈은 하나의 일(책임)을 맡아야 한다.

OCP : https://wlgusdn700.tistory.com/96?category=930441 
확장에는 열려있어야 하고, 변경에는 닫혀있어야 한다

LSP : https://wlgusdn700.tistory.com/97?category=930441
Sub Class, Struct는 Super Class 혹은 Protocol 로 교체할 수 있어야 한다.

ISP : https://wlgusdn700.tistory.com/98?category=930441 
인터페이스(프로토콜)을 통해 기능/책임을 더 세분화, 사용하지 않는 책임에 의존관계 X

DIP : https://wlgusdn700.tistory.com/99?category=930441 
고차원 모듈은 저차원 모듈에 의존하면 안된다.(추상적인 것은 구체적인 것에 의존하면 안된다)
자주 변경되는 클래스에 의존하지 말자
OCP와 비슷한데, 인터페이스(프로토콜)을 통함


## Objective-C 객체
+ 로 시작하는 메서드 : 클래스 메서드
- 로 시작하는 메서드 : 인스턴스 메서드

헤더 파일 내부 인터페이스(@interface) 영역에 선언한 메서드만 객체 외부에서 접근 가능
구현 영역(@implementation)에 선언한 메서드는 내부에서만 접근할 수 있고, 외부로는 감춰짐(캡슐화)

 
## 클래스 명세와 객체 인스턴스
 
![image](https://user-images.githubusercontent.com/11826495/124375156-a50d6880-dcdb-11eb-9c4d-aac590eaf450.png)
출처 : Cocoa Internals

aPen이라는 포인터는 aPen 고유의 객체 인스턴스를 가르킨다.
aPen 고유의 객체 인스턴스는 Pen 클래스의 코드를 공유한다.
 
## Objective-C 2.0 이후 변화
Class는 내부적으로 objc_Class 라는 구조체의 포인터이다
OS X 10.5 와 iOS 2.0 이후에 적용된 Objective-C 2.0부터는 최신 런타임 구조를 따른다
- 레거시 런타임 : 클래스의 구조가 바뀌면, 무조건 새로 컴파일
- 최신 런타임 : 인스턴스 변수와 메서드 변경해도, 재컴파일 X
  - 최신 런타임 적용 이후, isa 포인터 사라짐
  - 따라서 객체의 클래스를 알아내기 위해서, NSObject에 선언된 -(Class)class 메세지를 보낸다

## Swift Native Object
스위프트에서는 Objective-C와 호환되는 객체를 쓸수도 있고, 네이티브 객체를 쓸수도 있다.
스위프트 언어는 SIL이라는 스위프트 중간 언어를 거쳐가면서 기계코드로 변형된다.

 
### Swift ~ Objective-C 호환 객체
NSObject를 최상위 클래스로 지정해야 한다.
NSObject를 상속받은 Class로 생성한 객체는 내부에서 Objective-C로 자동으로 변환되고, Objective-C 런타임에서 동작한다.

## 요약
객체를 표현하기 위해서는 객체 중심으로 생각하는 과정이 중요
객체는 늘 객관적이어야 함
객체를 표현한 코드는 '나 혼자만의 것이 아님'



[클래스와 객체 인스턴스](https://wlgusdn700.tistory.com/117)
